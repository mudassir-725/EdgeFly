# EdgeFly CURL API Suite v1.7
# 1. Guest Flight Search
curl -X POST "{{base_url}}/api/flights/guest" -H "Content-Type: application/json" -d "{\"origin\":\"LHR\",\"destination\":\"JFK\",\"departureDate\":\"2025-10-29\",\"returnDate\":\"2025-11-03\",\"travelClass\":\"ECONOMY\",\"passengers\":1}"

# 2. Register User
curl -X POST "{{base_url}}/api/auth/register" -H "Content-Type: application/json" -d "{\"email\":\"edgeuser18@example.com\",\"password\":\"password123\"}"

# 3. Login User
curl -X POST "{{base_url}}/api/auth/login" -H "Content-Type: application/json" -d "{\"email\":\"edgeuser18@example.com\",\"password\":\"password123\"}"

# 4. Get User Info
curl -X GET "{{base_url}}/api/auth/me" -H "Authorization: Bearer {{auth_token}}"

# 5. Logout
curl -X POST "{{base_url}}/api/auth/logout" -H "Authorization: Bearer {{auth_token}}"

# 6. User Flight Search
curl -X POST "{{base_url}}/api/flights" -H "Authorization: Bearer {{auth_token}}" -H "Content-Type: application/json" -d "{\"origin\":\"LHR\",\"destination\":\"DXB\",\"departureDate\":\"2025-11-20\",\"returnDate\":\"2025-11-25\",\"travelClass\":\"ECONOMY\",\"passengers\":1}"

# 7. Autocomplete Airport
curl -X GET "{{base_url}}/api/flights/autocomplete?keyword=New"

# 8. ELI Query (Authenticated)
curl -X POST "{{base_url}}/api/agent/query" -H "Authorization: Bearer {{auth_token}}" -H "Content-Type: application/json" -d "{\"message\":\"Find me the best flight from Madrid to New York on 29 Oct.\"}"

# 9. ELI Guest (Unauthorized)
curl -X POST "{{base_url}}/api/agent/guest" -H "Content-Type: application/json" -d "{\"message\":\"Find me a cheap flight to Tokyo next month.\"}"

# 10. Get Wishlist
curl -X GET "{{base_url}}/api/wishlist" -H "Authorization: Bearer {{auth_token}}"

# 11. Add Wishlist
curl -X POST "{{base_url}}/api/wishlist" -H "Authorization: Bearer {{auth_token}}" -H "Content-Type: application/json" -d "{\"origin\":\"LHR\",\"destination\":\"HYD\",\"departureDate\":\"2025-11-20\",\"returnDate\":\"2025-11-25\",\"price\":480.25,\"airline\":\"EK\"}"

# 12. Delete Wishlist Item
curl -X DELETE "{{base_url}}/api/wishlist/12" -H "Authorization: Bearer {{auth_token}}"

# 13. Dashboard
curl -X GET "{{base_url}}/api/dashboard" -H "Authorization: Bearer {{auth_token}}"

# 14. Recommendations
curl -X GET "{{base_url}}/api/recommendations" -H "Authorization: Bearer {{auth_token}}"

# 15. Search History
curl -X GET "{{base_url}}/api/search" -H "Authorization: Bearer {{auth_token}}"
