<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>EdgeFly — Let's Get Started</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../assets/css/global.css" />

    <!-- Tailwind Config -->
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#f7ce87",
              "background-light": "#f8f7f6",
              "background-dark": "#221b10",
            },
            fontFamily: {
              display: ["Space Grotesk", "sans-serif"],
            },
            borderRadius: {
              DEFAULT: "0.5rem",
              lg: "1rem",
              xl: "1.5rem",
              full: "9999px",
            },
          },
        },
      };
    </script>

    <!-- Custom Styles -->
    <style>
      body {
        font-family: "Space Grotesk", sans-serif;
      }
      .toast {
        animation: fadeIn 0.3s ease, fadeOut 0.3s ease 4.7s forwards;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes fadeOut {
        to {
          opacity: 0;
          transform: translateY(10px);
        }
      }
    </style>
  </head>

  <body
    class="bg-background-light dark:bg-background-dark font-display text-stone-900 dark:text-stone-100"
  >
    <!-- Toast Container (Bottom Right) -->
    <div
      id="toast-container"
      class="fixed bottom-5 right-5 z-[100] flex flex-col gap-2"
    ></div>

    <!-- Main Content -->
    <main class="flex flex-1 items-center justify-center py-12 px-6">
      <!-- Box -->
      <div class="w-full max-w-md">
        <!-- Brand - Title & Line -->
        <div class="text-center mb-8">
          <a
            href="../../"
            class="text-3xl font-bold tracking-tight text-stone-900 dark:text-stone-50"
          >
            EdgeFly
          </a>
          <p class="mt-2 text-sm text-stone-600 dark:text-stone-400">
            Your journey starts here. Access your account.
          </p>
        </div>

        <!-- Get Started Card -->
        <div
          class="bg-background-light dark:bg-background-dark border border-stone-200 dark:border-stone-800 rounded-lg shadow-sm"
        >
          <!-- Tabs -->
          <div class="flex border-b border-stone-200 dark:border-stone-800">
            <button
              id="login-tab"
              class="flex-1 py-4 text-sm font-bold border-b-2 border-primary text-stone-900 dark:text-stone-100"
            >
              Login
            </button>
            <button
              id="register-tab"
              class="flex-1 py-4 text-sm font-bold border-b-2 border-transparent text-stone-500 dark:text-stone-400 hover:text-stone-800 dark:hover:text-stone-200 hover:border-primary/50 transition-all"
            >
              Register
            </button>
          </div>

          <!-- Forms -->
          <div class="p-6 space-y-6">
            <!-- Login Form -->
            <div id="login-section">
              <form id="login-form" class="space-y-4">
                <!-- Email -->
                <div>
                  <label
                    class="block text-sm font-medium text-stone-700 dark:text-stone-300"
                    for="email"
                    >Email</label
                  >
                  <input
                    type="email"
                    id="email"
                    name="email"
                    placeholder="you@example.com"
                    autocomplete="email"
                    required
                    class="form-input block w-full rounded-lg border-stone-300 dark:border-stone-700 bg-background-light dark:bg-background-dark placeholder-stone-400 dark:placeholder-stone-500 focus:border-primary focus:ring-primary text-sm"
                  />
                </div>

                <!-- Password -->
                <div>
                  <label
                    class="block text-sm font-medium text-stone-700 dark:text-stone-300"
                    for="password"
                    >Password</label
                  >
                  <input
                    type="password"
                    id="password"
                    name="password"
                    placeholder="••••••••"
                    autocomplete="current-password"
                    required
                    class="form-input block w-full rounded-lg border-stone-300 dark:border-stone-700 bg-background-light dark:bg-background-dark placeholder-stone-400 dark:placeholder-stone-500 focus:border-primary focus:ring-primary text-sm"
                  />
                </div>

                <!-- Forgot Password -->
                <div class="text-right">
                  <a
                    href="#"
                    class="text-sm font-medium text-stone-500 hover:text-primary dark:hover:text-primary transition-colors"
                  >
                    Forgot Password?
                  </a>
                </div>

                <!-- Sign In -->
                <button
                  type="submit"
                  class="w-full flex justify-center py-2.5 px-4 rounded-lg text-sm font-bold text-stone-900 bg-primary hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-opacity"
                >
                  Sign In
                </button>
              </form>
            </div>

            <!-- Register Form -->
            <section id="register" class="hidden">
              <form id="registration-form" class="space-y-4">
                <!-- Username -->
                <div>
                  <label
                    class="block text-sm font-medium text-stone-700 dark:text-stone-300"
                    for="username"
                    >Username</label
                  >
                  <input
                    type="text"
                    id="username"
                    name="username"
                    placeholder="Your Username"
                    required
                    class="form-input block w-full rounded-lg border-stone-300 dark:border-stone-700 bg-background-light dark:bg-background-dark placeholder-stone-400 dark:placeholder-stone-500 focus:border-primary focus:ring-primary text-sm"
                  />
                </div>

                <!-- Email -->
                <div>
                  <label
                    class="block text-sm font-medium text-stone-700 dark:text-stone-300"
                    for="reg-email"
                    >Email</label
                  >
                  <input
                    type="email"
                    id="reg-email"
                    name="email"
                    placeholder="you@example.com"
                    autocomplete="email"
                    required
                    class="form-input block w-full rounded-lg border-stone-300 dark:border-stone-700 bg-background-light dark:bg-background-dark placeholder-stone-400 dark:placeholder-stone-500 focus:border-primary focus:ring-primary text-sm"
                  />
                </div>

                <!-- Password -->
                <div>
                  <label
                    class="block text-sm font-medium text-stone-700 dark:text-stone-300"
                    for="reg-password"
                    >Password</label
                  >
                  <input
                    type="password"
                    id="reg-password"
                    name="password"
                    placeholder="••••••••"
                    autocomplete="new-password"
                    required
                    class="form-input block w-full rounded-lg border-stone-300 dark:border-stone-700 bg-background-light dark:bg-background-dark placeholder-stone-400 dark:placeholder-stone-500 focus:border-primary focus:ring-primary text-sm"
                  />
                </div>

                <!-- Confirm Password -->
                <div>
                  <label
                    class="block text-sm font-medium text-stone-700 dark:text-stone-300"
                    for="c-reg-password"
                    >Confirm Password</label
                  >
                  <input
                    type="password"
                    id="c-reg-password"
                    name="Confirm Password"
                    placeholder="••••••••"
                    autocomplete="new-password"
                    required
                    class="form-input block w-full rounded-lg border-stone-300 dark:border-stone-700 bg-background-light dark:bg-background-dark placeholder-stone-400 dark:placeholder-stone-500 focus:border-primary focus:ring-primary text-sm"
                  />
                </div>

                <!-- Sign Up -->
                <button
                  type="submit"
                  class="w-full flex justify-center py-2.5 px-4 rounded-lg text-sm font-bold text-stone-900 bg-primary hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-opacity"
                >
                  Sign Up
                </button>
              </form>
            </section>

            <!-- Divider -->
            <div class="relative">
              <!-- Divide Line -->
              <div class="absolute inset-0 flex items-center">
                <div
                  class="w-full border-t border-stone-300 dark:border-stone-700"
                ></div>
              </div>

              <!-- Continue -->
              <div class="relative flex justify-center text-sm">
                <span
                  class="px-2 bg-background-light dark:bg-background-dark text-stone-500 dark:text-stone-400"
                >
                  Or continue with
                </span>
              </div>
            </div>

            <!-- Social Buttons -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
              <!-- With Google -->
              <button
                class="w-full inline-flex justify-center items-center gap-2 py-2.5 px-4 border rounded-lg text-sm font-bold bg-white dark:bg-stone-900 border-stone-300 dark:border-stone-700 text-stone-700 dark:text-stone-200 hover:bg-stone-50 dark:hover:bg-stone-800 transition-colors"
              >
                <svg
                  class="w-5 h-5"
                  viewBox="0 0 48 48"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill="#4285F4"
                    d="M47.532 24.5528C47.532 22.9214 47.3997 21.29 47.1172 19.71H24.252V28.818H37.4372C36.8521 31.6842 35.2511 34.0993 32.9542 35.7953V41.34H40.2192C44.7856 37.1513 47.532 31.446 47.532 24.5528Z"
                  />
                  <path
                    fill="#34A853"
                    d="M24.252 48.0001C31.068 48.0001 36.738 45.5467 40.2192 41.34L32.9542 35.7953C30.686 37.3373 27.6912 38.232 24.252 38.232C17.868 38.232 12.3552 33.7807 10.6082 28.172H3.12402V33.8767C6.56382 41.812 14.6372 48.0001 24.252 48.0001Z"
                  />
                  <path
                    fill="#FBBC05"
                    d="M10.6082 28.172C10.2262 27.036 10.0173 25.836 10.0173 24.6C10.0173 23.364 10.2262 22.164 10.6082 21.028L3.12402 15.3233C1.13202 19.2153 0 24.168 0 29.4C0.0123536 29.4 0.0247071 29.4 0.0370607 29.4L0.0370607 29.4007C2.71582 22.8687 7.74718 17.5853 13.914 14.28L10.6082 21.028Z"
                  />
                  <path
                    fill="#EA4335"
                    d="M24.252 9.96801C28.0892 9.96801 31.332 11.2653 33.834 13.668L40.404 7.34C36.726 -0.0199928 31.068 0.000768452 24.252 0.000768452C14.6372 0.000768452 6.56382 6.18877 3.12402 14.124L10.6082 19.8287C12.3552 14.22 17.868 9.96801 24.252 9.96801Z"
                  />
                </svg>
                <span>Google</span>
              </button>

              <!-- With Facebook -->
              <button
                class="w-full inline-flex justify-center items-center gap-2 py-2.5 px-4 border rounded-lg text-sm font-bold bg-white dark:bg-stone-900 border-stone-300 dark:border-stone-700 text-stone-700 dark:text-stone-200 hover:bg-stone-50 dark:hover:bg-stone-800 transition-colors"
              >
                <svg
                  class="w-5 h-5"
                  fill="#1877F2"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-1.5c-.83 0-1 .17-1 .5V12h2.5l-.5 3H14v6.8c4.56-.93 8-4.96 8-9.8z"
                  />
                </svg>
                <span>Facebook</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Scripts -->
    <script>
      // Tabs toggle
      const loginTab = document.getElementById("login-tab");
      const registerTab = document.getElementById("register-tab");
      const loginSection = document.getElementById("login-section");
      const registerSection = document.getElementById("register");

      // Function to set the active tab style
      function setActiveTab(activeTab, inactiveTab) {
        // Set styles for the active tab
        activeTab.classList.add(
          "border-primary",
          "text-stone-900",
          "dark:text-stone-100"
        );
        // Set hover/focus/active color for active tab
        activeTab.classList.add(
          "focus:border-[#f7d292]",
          "hover:border-[#f7d292]",
          "active:border-[#f7d292]"
        );

        // Remove styles for the inactive tab
        inactiveTab.classList.remove(
          "border-primary",
          "text-stone-900",
          "dark:text-stone-100"
        );
        inactiveTab.classList.add(
          "border-transparent",
          "text-stone-500",
          "dark:text-stone-400"
        );
      }

      // Login tab click event
      loginTab.addEventListener("click", () => {
        // Show login section, hide register section
        loginSection.classList.remove("hidden");
        registerSection.classList.add("hidden");

        // Set the active tab (login) and inactive tab (register)
        setActiveTab(loginTab, registerTab);
      });

      // Register tab click event
      registerTab.addEventListener("click", () => {
        // Show register section, hide login section
        registerSection.classList.remove("hidden");
        loginSection.classList.add("hidden");

        // Set the active tab (register) and inactive tab (login)
        setActiveTab(registerTab, loginTab);
      });

      // Toast helper function
      function showToast(message) {
        const container = document.getElementById("toast-container");
        const toast = document.createElement("div");
        toast.className =
          "toast bg-primary text-background-dark font-bold px-5 py-3 rounded-lg shadow-lg flex items-center justify-between gap-3";
        toast.innerHTML = `<span>${message}</span><button class="text-background-dark/70 hover:text-background-dark font-bold">&times;</button>`;

        // Add close button functionality
        toast
          .querySelector("button")
          .addEventListener("click", () => toast.remove());

        container.appendChild(toast);

        // Remove toast after 5 seconds
        setTimeout(() => toast.remove(), 5000);
      }

      // Example validation for login form
      document.getElementById("login-form").addEventListener("submit", (e) => {
        e.preventDefault();
        const email = e.target.email.value.trim();
        const pass = e.target.password.value.trim();

        // Validation: Ensure both fields are filled
        if (!email || !pass) {
          showToast("Please fill in all fields to Sign In.");
          return;
        }
        showToast("Sign In Successfully!");
      });

      // Example validation for registration form
      document
        .getElementById("registration-form")
        .addEventListener("submit", (e) => {
          e.preventDefault();
          const user = e.target.username.value.trim();
          const email = e.target.email.value.trim();
          const pass = e.target.password.value.trim();

          // Validation: Ensure all fields are filled
          if (!user || !email || !pass) {
            showToast("Please fill in all fields to Register.");
            return;
          }
          showToast("Account Registered Successfully!");
        });
    </script>

    <!-- EdgeAPI Handler -->
    <script type="module" src="../js/authGuard.js"></script>
    <script type="module" src="../js/navGuard.js"></script>
    <script type="module" src="../js/loader.js"></script>
    <script type="module" src="../js/api.js"></script>
    <script type="module" src="../js/ui.js"></script>
    <script type="module" src="../js/detailsModal.js"></script>
  </body>
</html>
